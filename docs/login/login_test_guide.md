# 登录功能测试指南

## 一、测试环境
### 1. 环境要求
- JDK 8
- Tomcat 9
- MySQL 8.0
- 浏览器（推荐 Chrome 或 Firefox）

### 2. 数据准备
- 数据库：执行以下SQL脚本
  - `V1__add_login_fields.sql`（添加登录字段）
  - `V1__update_login_data.sql`（设置初始密码）
- 测试账号：使用已有学生数据
  - 密码为身份证后6位
  - 初始登录错误次数为0

## 二、测试用例

### 1. 基础功能测试
#### 1.1 页面访问
| 测试项 | 测试步骤 | 预期结果 |
|-------|----------|----------|
| 默认页面 | 访问 `http://localhost:8080` | 自动跳转到登录页面 |
| 页面样式 | 查看登录页面 | 页面布局正常，样式美观 |

#### 1.2 表单验证
| 测试项 | 测试步骤 | 预期结果 |
|-------|----------|----------|
| 必填验证 | 直接点击登录按钮 | 提示学号、密码为必填项 |
| 空格处理 | 输入带空格的学号或密码 | 正常提交，不影响验证 |

### 2. 登录失败测试
#### 2.1 错误密码测试
| 测试项 | 测试步骤 | 预期结果 |
|-------|----------|----------|
| 密码错误 | 1. 输入正确学号<br>2. 输入错误密码<br>3. 点击登录 | 提示"密码错误，还剩2次机会" |
| 剩余次数 | 再次输入错误密码 | 提示"密码错误，还剩1次机会" |

#### 2.2 账号锁定测试
| 测试项 | 测试步骤 | 预期结果 |
|-------|----------|----------|
| 触发锁定 | 连续3次输入错误密码 | 提示"账号已锁定，请15分钟后再试" |
| 锁定状态 | 锁定期间尝试登录 | 提示账号锁定，禁止登录 |
| 锁定解除 | 等待15分钟后尝试登录 | 可以正常登录 |

#### 2.3 异常情况测试
| 测试项 | 测试步骤 | 预期结果 |
|-------|----------|----------|
| 学号不存在 | 输入不存在的学号 | 提示"学号不存在" |
| 特殊字符 | 输入特殊字符 | 正常处理，不出现异常 |

### 3. 登录成功测试
#### 3.1 正常登录
| 测试项 | 测试步骤 | 预期结果 |
|-------|----------|----------|
| 登录成功 | 1. 输入正确学号<br>2. 输入正确密码<br>3. 点击登录 | 1. 登录成功<br>2. 跳转到index.html |

#### 3.2 会话管理
| 测试项 | 测试步骤 | 预期结果 |
|-------|----------|----------|
| 会话保持 | 登录成功后刷新页面 | 保持在index.html |
| 重复登录 | 已登录状态访问login.html | 自动跳转到index.html |

### 4. 退出功能测试
| 测试项 | 测试步骤 | 预期结果 |
|-------|----------|----------|
| 退出操作 | 点击退出按钮 | 1. 退出成功<br>2. 跳转到登录页 |
| 会话清除 | 退出后访问index.html | 跳转到登录页 |

## 三、问题记录

### 1. 如何记录测试问题
- 测试步骤：详细描述复现问题的步骤
- 预期结果：描述预期应该出现的结果
- 实际结果：描述实际出现的结果
- 错误信息：记录具体的错误提示
- 环境信息：记录测试环境相关信息

### 2. 问题模板
```markdown
#### 问题描述
- 现象：[描述问题现象]
- 影响：[描述影响范围]

#### 复现步骤
1. [步骤1]
2. [步骤2]
3. [步骤3]

#### 期望结果
[描述期望的正确结果]

#### 实际结果
[描述实际的错误结果]

#### 环境信息
- 浏览器：[浏览器版本]
- 数据：[测试数据]
- 其他：[其他相关信息]
```

## 四、注意事项
1. 测试前确保数据库中有测试数据
2. 记录每个测试用例的执行结果
3. 发现问题及时记录并反馈
4. 注意测试不同浏览器的兼容性
5. 关注错误提示的准确性和友好性 